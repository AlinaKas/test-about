<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&family=Titan+One&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="./css/main.min.css">

<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Caveat+Brush&display=swap" rel="stylesheet">
<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet">

    <title>Document</title>
    <link rel="shortcut icon" href="images/favicon-donut.ico" type="image/x-icon">

</head>
<body>
    <main>
    <!-- DONUT -->

    <section class="about section">
    <div class="about__content-wrap container">
        <div class="about__img-wrap">
            <picture>
                <source
                    srcset="./images/about/about-desktop.png 1x, ./images/about/about-desktop@2x.png 2x"
                    media="(min-width: 1280px)">
                <source
                    srcset="./images/about/about-tablet.png 1x, ./images/about/about-tablet@2x.png 2x"
                    media="(min-width: 768px)">

                <source
                    srcset="./images/about/about-mobile.png 1x, ./images/about/about-mobile@2x.png 2x"
                    media="(min-width: 320px)">
                    <img src="./images/about/about-mobile.png" alt="cupcake box" class="about_img">
            </picture>
        </div>
    <div class="about__text-wrap about__text-wrap--textblock-hidden">
        <h2 class="section__title">About us</h2>
        <p class="about__description">Oh My Donut is the shop which adores tasty deserts and spend hours to create sophisticated donuts which will save the world!</p>
        <p class="about__text">Eva has been baking since she was six years old and over the last 49 years, she has created hundreds of cakes for weddings and has baked for many celebrities. Eva and our shop have received multiple awards & recognition for excellence.</p>
        <p class="about__text story">We are going to teach you how to cook with passion and sparkles in your eyes! We love what we do and believe you will enjoy our cooking atmosphere!</p>
    </div>
    <!-- ДЛЯ ДЕСКТОПА -->
    <div class="about__text-wrap about__text-wrap--textblock-visable">
        <h2 class="section__title">About us</h2>
        <p class="about__description">Oh My Donut is the shop which adores tasty deserts and spend hours to create
            sophisticated donuts which will save the world!</p>
        <p class="about__text">Eva has been baking since she was six years old and over the last 49 years, she has created
            hundreds of cakes for weddings and has baked for many celebrities. Eva and our shop have received multiple
            awards & recognition for excellence.</p>
        <p class="about__text-add">We are going to teach you how to cook with passion and sparkles in your eyes! We love what we do and believe you will enjoy our cooking atmosphere!
        </p>
    </div>
</div>
</section>
</main>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
        <script src="js/readmore.js"></script>

<!-- РАБОЧИЙ СКРИПТ -->

    <script>

(function($) {
  $.fn.truncate = function(options) {

    var defaults = {
      length: 100,
      minTrail: 10,
      moreText: "",
      lessText: "",
      ellipsisText: ""
    };

    var options = $.extend(defaults, options);

    return this.each(function() {
      obj = $(this);
      var body = obj.html();

      if (body.length > options.length + options.minTrail) {
        var splitLocation = body.indexOf(' ', options.length);
        if (splitLocation != -1) {

          var splitLocation = body.indexOf(' ', options.length);
          var str1 = body.substring(0, splitLocation);
          var str2 = body.substring(splitLocation, body.length - 1);
          obj.html(str1 + '<span class="truncate_ellipsis">' + options.ellipsisText +
            '</span>' + '<span  class="truncate_more">' + str2 + '</span>');
          obj.find('.truncate_more').css("display", "none");

          obj.append(
            '<div class="clearboth">' +
            '<a href="#" class="truncate_more_link">' + options.moreText + '</a>' +
            '</div>'
          );

          var moreLink = $('.truncate_more_link', obj);
          var moreContent = $('.truncate_more', obj);
          var ellipsis = $('.truncate_ellipsis', obj);
          moreLink.click(function() {
            if (moreLink.text() == options.moreText) {
              moreContent.show('normal');
              moreLink.text(options.lessText);
              ellipsis.css("display", "none");
            } else {
              moreContent.hide('normal');
              moreLink.text(options.moreText);
              ellipsis.css("display", "inline");
            }
            return false;
          });
        }
      }

    });
  };
})(jQuery);

$().ready(function() {
  $('.story').truncate({
    length: 0,
    minTrail: 10,
    moreText: 'Read more',
    lessText: 'Less',
    ellipsisText: ""
  });
});
    </script>
</body>
</html>